<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <!-- 
        Ensures proper scaling on mobile.
        Without this, Bootstrap's responsive grid and components will not display correctly.
    -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- 
        HTMX: A JavaScript library that allows you to perform AJAX/partial-page updates
        directly through HTML attributes without writing JS manually.

    -->
    <script 
        src="https://unpkg.com/htmx.org@2.0.4"
        integrity="sha384-HGfztofotfshcF7+8n44JQL2oJmowVChPTg48S+jvZoztPfvwD79OC/LTtG6dMp+" 
        crossorigin="anonymous">
    </script>

    <!-- Title displayed in browser tab and used by SEO engines -->
    <title>Hello World</title>

    <!-- 
        Bootstrap 5 CSS:
        Provides responsive layout utilities, grid system, UI components, and
        pre-built classes (buttons, spacing, text colors, etc.).

        Uses SRI (Subresource Integrity) to ensure the file isn't modified.
    -->
    <link 
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
        rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
        crossorigin="anonymous"
    >
</head>

<body>
    <div class="container">
        <h1>Simple Request Example</h1>

        <!-- 
            Button triggers a dynamic server request using HTMX.

            hx-get="/users"
            ----------------
            Sends a GET request to the /users route when clicked.
            Similar to fetch('/users'), but no JavaScript needed.
            
            hx-target="#users"
            --------------------
            Defines where the server response HTML will be inserted
            (innerHTML replacement by default).
            
            hx-vals='{"limit":3}'
            ---------------------
            Sends additional parameters to the server as JSON-encoded values.
            These merge into the request payload:
                GET /users?limit=3
            
            hx-indicator="#loading"
            ------------------------
            This element becomes visible ONLY during the request.
            HTMX automatically toggles:
                .htmx-request adds spinner visibility
                .htmx-indicator manages show/hide logic
            
            NOTE:
            HTMX request lifecycle phases:
            1. request started
            2. response received
            3. DOM swap performed
            4. settle events fired
        -->
        <button 
            hx-get="/users"
            hx-target="#users"
            hx-vals='{"limit":3}'
            hx-indicator="#loading"
            class="btn btn-primary"
        >
            Fetch Some Stuff
        </button>

        <!-- 
            Spinner that is only visible during the HTMX request.

            htmx-indicator class:
            - Automatically hidden by default
            - Automatically shown when ".htmx-request" is added to body
            - Automatically hidden again once the response is processed

            Bootstrap's spinner-border:
            - SVG-based loader animation
        -->
        <div 
            id="loading"
            class="htmx-indicator spinner-border" 
            role="status"
        ></div>

        <!-- 
            The response from /users will be swapped into this element.
            HTMX will replace its innerHTML by default using the "innerHTML" swap.
            
            HTMX swap strategies you can use here:
            - hx-swap="outerHTML"
            - hx-swap="afterbegin"
            - hx-swap="beforeend"
            - hx-swap="transition:true" (smooth animation)
        -->
        <div id="users"></div>
    </div>

    <!-- 
        Bootstrap JS bundle:
        Includes Popper.js for tooltips/dropdowns and Bootstrap's own JS.
        Required for modal dialogs, collapsible menus, etc.
    -->
    <script 
        src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous">
    </script>
</body>

</html>
